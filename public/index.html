<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<script src="/socket.io/socket.io.js"></script>
	<script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
	<script>
	  	var socket = io.connect('http://192.168.1.145'),gnStartX, gnStartY, gnEndX, gnEndY;

		$(document).mousemove(function( event ) {
			socket.emit('mouseMove', { mouseX: event.pageX, mouseY: event.pageY});
		});

		window.addEventListener('touchstart',function(event) {
			gnStartX = event.touches[0].pageX;
			gnStartY = event.touches[0].pageY;
			socket.emit('mouseMove', { mouseX: gnStartX, mouseY: gnStartY});
		},false);

		window.addEventListener('touchmove',function(event) {
			gnEndX = event.touches[0].pageX;
			gnEndY = event.touches[0].pageY;
			socket.emit('mouseMove', { mouseX: gnEndtX, mouseY: gnEndY});
		},false);

		jQuery(document).ready(function () {
			var log_chat_message = function  (message, type) {
				var li = jQuery('<li />').text(message);
				jQuery('#chat_log').append(li);
			};

			var socket = io.connect('http://localhost:3000');

			socket.on('entrance', function  (data) {
				log_chat_message(data.message, 'system');
			});

			socket.on('mouseMoved', function(mouseX, mouseY){
				$('.x').text(mouseX.mouseX);
				$('.y').text(mouseX.mouseY);
			});

		});
	</script>
</head>
<body>
	<div id="chat_log"></div>
	<p class="x">x</p>
	<p class="y">y</p>
</body>
</html>